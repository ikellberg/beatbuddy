export const GAME_PHRASES = {
  positive: [
    'Прыг! Отлично!',
    'В такт!',
    'Вот это да!',
    'Классный хлопок!',
    'Попали!',
    'Супер!',
    'Так держать!',
    'Ровно!',
    'Чётко!',
    'Ух ты!',
    'Здорово!',
    'Есть!',
    'Летим!',
    'Прыжок получился!',
    'Бам! Удалось!',
    'Отличный ритм!',
    'Вышло!',
    'Как по нотам!',
    'Хлоп — и я прыгнул!',
    'Красиво!'
  ],
  miss: [
    'Ой!',
    'Упс!',
    'Я споткнулся!',
    'Ничего, встаю!',
    'Давай ещё раз!',
    'Почти получилось!',
    'Я готов снова!',
    'Попробуем ещё?',
    'Ничего страшного!',
    'Сейчас поймаем ритм!',
    'Бывает!',
    'Я не обиделся',
    'В следующий раз!',
    'Я снова бегу!',
    'Давай сначала!',
    'Я упал, но в порядке!',
    'Сейчас будет лучше!',
    'Чуть-чуть не попали!',
    'Я готов!',
    'Поехали заново!'
  ]
}

/**
 * Выбирает случайную фразу без мгновенного повтора предыдущей.
 * Возвращает пустую строку, если список пуст.
 * @param {string[]} list
 * @param {string} last
 * @returns {string}
 */
export function pickPhraseWithoutImmediateRepeat(list, last = '') {
  if (!Array.isArray(list) || list.length === 0) return ''
  if (list.length === 1) return list[0]

  let idx = Math.floor(Math.random() * list.length)
  if (list[idx] === last) {
    idx = (idx + 1 + Math.floor(Math.random() * (list.length - 1))) % list.length
  }
  return list[idx]
}
